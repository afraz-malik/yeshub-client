(this.webpackJsonpyeshub=this.webpackJsonpyeshub||[]).push([[17],{357:function(e,t,n){"use strict";var c=n(2),r=n(0),a=n.n(r),i=n(117);t.a=function(e){var t=e.event,n=e.link,u=Object(r.useState)(t),o=Object(c.a)(u,2),s=(o[0],o[1],Object(r.useState)(t.going)),l=Object(c.a)(s,2),f=l[0],v=l[1];return a.a.createElement("div",{className:"event-card-container pt-3"},a.a.createElement("div",{className:"event-card-wrap"},t&&a.a.createElement(i.a,{event:t,going:f,onMarkGoing:function(e){return v(e)},link:n})))}},358:function(e,t,n){"use strict";var c=n(2),r=n(0),a=null;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(r.useState)(e),n=Object(c.a)(t,2),i=n[0],u=n[1],o=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&null===a&&(a=setTimeout((function(){u((function(e){return e+1})),a=null}),2e3))};return Object(r.useEffect)((function(){return document.addEventListener("scroll",o),function(){return document.removeEventListener("scroll",o)}}),[i]),{page:i}}},363:function(e,t,n){"use strict";var c=n(0),r=n.n(c),a=n(357);t.a=function(e){var t=e.events,n=void 0===t?[]:t;return r.a.createElement("div",{className:"profile_events__container"},n.map((function(e){return r.a.createElement(a.a,{key:e._id,event:e})})))}},406:function(e,t,n){"use strict";n.r(t);var c=n(21),r=n(2),a=n(0),i=n.n(a),u=n(114),o=n(83),s=n(363),l=n(37),f=n(358),v=n(8);t.default=function(e){var t=e.onlySubscribed,n=e.title,d=void 0===n?"My Events":n,b=Object(a.useState)([]),m=Object(r.a)(b,2),E=m[0],g=m[1],j=Object(f.a)(1).page;Object(a.useEffect)((function(){l.a.fetch(j).then((function(e){console.log(e),console.log("-------- my events -------"),g((function(t){return[].concat(Object(c.a)(t),Object(c.a)(O(e.data.docs)))}))})).catch((function(e){return console.log(e)}))}),[j]);var O=function(e){return t&&e.length?e.filter((function(e){return 1==e.isSubscribed})):e},h=function(e){var t=E.filter((function(t){return t._id!==e.detail.id}));g(t)};return Object(a.useEffect)((function(){return document.addEventListener(v.b,h),function(){return document.removeEventListener(v.b,h)}}),[E,h]),i.a.createElement(u.a,{showSideBar:!1},i.a.createElement(o.a,{title:d}),i.a.createElement(s.a,{events:E}))}}}]);
//# sourceMappingURL=17.2619594b.chunk.js.map