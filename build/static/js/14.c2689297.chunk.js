(this.webpackJsonpyeshub=this.webpackJsonpyeshub||[]).push([[14],{374:function(e,t,a){"use strict";var n=a(5),l=a(2),c=a(0),m=a.n(c),s=a(4),o=a(13),i=a(14),r=a(10),d=a(38),u=a.n(d),v=a(124),p={font:"Roboto",weight:"400",fontSize:"14px"};t.a=function(e){var t,a=e.event,d=e.onGoingChange;console.log("event: ",a);var b=Object(c.useState)(a),g=Object(l.a)(b,2),N=g[0],h=g[1];if(!a)return null;return m.a.createElement("div",{className:"event__details"},m.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},m.a.createElement("h1",{className:"event__title"}),(null===a||void 0===a?void 0:a.isModerator)?m.a.createElement(s.b,{to:{pathname:"/event/create-update",state:a}},m.a.createElement(o.a,{icon:i.g})):null),m.a.createElement("div",{className:"mc-border p-3"},function(){var e;return m.a.createElement("div",{className:"event_metaInfo"},m.a.createElement("h2",{style:{fontSize:"26px",fontWeight:700,color:"243C4B, 100%"}},null===N||void 0===N?void 0:N.eventName),m.a.createElement("div",{className:"metaInfo-container"},m.a.createElement("div",{id:"event-HostBy"},r.l," ",m.a.createElement("span",{id:"hostBy_Title"},"Hosted by"),m.a.createElement("span",{id:"hostedBy_Val"},null===N||void 0===N?void 0:N.hostedBy)),m.a.createElement("div",{id:"event-DateTime"},m.a.createElement("span",null,r.E,m.a.createElement("span",{id:"event-DateTime_date",style:{marginLeft:"8px"}},u()(null===N||void 0===N||null===(e=N.date)||void 0===e?void 0:e.startDate).format("DD MMM YYYY"))),m.a.createElement("span",null,r.G,m.a.createElement("span",{id:"event-DateTime_time",style:{marginLeft:"8px"}},u()(null===N||void 0===N?void 0:N.time.startTime).format("hh:mm")," GMT+8")))))}(),(null===a||void 0===a?void 0:a.images.length)?m.a.createElement("div",{className:"event__img"},m.a.createElement("img",{src:"https://ae01.alicdn.com/kf/HTB1a8SScrGYBuNjy0Foq6AiBFXao/HUAYI-Solid-Old-Master-photography-filming-booth-Backgrounds-Digital-Printed-Professional-Portrait-Studio-Photo-D8965.jpg_q50.jpg",alt:null===a||void 0===a?void 0:a.eventName})):null,m.a.createElement("div",{className:"event__section"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6 col-md-6 col-lg-6"},m.a.createElement("div",null,r.H," ",m.a.createElement("span",{style:p},"Created By ",null===a||void 0===a||null===(t=a.author)||void 0===t?void 0:t.userName))),m.a.createElement("div",{className:"col-6 col-md-6 col-lg-6"},m.a.createElement("div",{className:"d-flex flex-column"},m.a.createElement("div",null,r.D," ",m.a.createElement("span",{style:p},"PHP 4000")),m.a.createElement("div",null,r.F," ",m.a.createElement("span",{style:p},"Online event"))))),m.a.createElement("p",{style:{marginTop:"1em"},className:"event-param-text"},null===a||void 0===a?void 0:a.description)),m.a.createElement("div",{className:"event-param-text",style:{margin:"0 .6em"}},m.a.createElement("p",{style:{marginBottom:"15px",fontSize:"16p",fontWeight:700,lineHeight:"20px",color:"243C4B"}},"Attributes"),m.a.createElement("div",{className:"row",style:{marginLeft:"20px",marginBottom:"1.4em"}},null===N||void 0===N?void 0:N.characteristics.map((function(e,t){return m.a.createElement("div",{className:"col-6 md-6 lg-6"},m.a.createElement("li",null,e))})))),m.a.createElement("div",{className:"event-param-text",style:{margin:"0 .6em"}},m.a.createElement("p",{style:{marginBottom:"15px",fontSize:"16p",fontWeight:700,lineHeight:"20px",color:"243C4B"}},"Related Link"),m.a.createElement("div",{className:"d-flex flex-column",style:{marginLeft:"20px",marginBottom:"1.4em"}},null===N||void 0===N?void 0:N.link.map((function(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,m.a.createElement("a",{href:e.url,target:"_blank"},m.a.createElement("span",{style:{marginRight:"1em"}},f),m.a.createElement("span",{style:{color:"blue"}},e.title))))})))),m.a.createElement("div",{className:"event-param-text",style:{margin:"0 .6em"}},m.a.createElement("p",{style:{marginBottom:"15px",fontSize:"16p",fontWeight:700,lineHeight:"20px",color:"243C4B"}},"Event Details"),m.a.createElement(E,{subevents:(null===N||void 0===N?void 0:N.subEvent)||[]})),m.a.createElement("div",{className:"event_goingInfo"}),(null===a||void 0===a?void 0:a._id)&&m.a.createElement("div",{className:"d-flex flex-row justify-content-end"},m.a.createElement(v.a,{going:null===N||void 0===N?void 0:N.going,eventId:null===N||void 0===N?void 0:N._id,onMarkGoing:function(e){d&&d(e),h(Object(n.a)(Object(n.a)({},a),{},{going:e}))}}))))};var E=function(e){var t=e.subevents,a=void 0===t?[]:t,l={boxShadow:"(0px 10px 20px rgba(0, 0, 0, 0.05))",border:"1px solid #E6E6E6",borderRadius:"10px",padding:"1em",marginBottom:"1em"};return m.a.createElement(m.a.Fragment,null,a.map((function(e,t){return m.a.createElement("div",{className:"subevent",key:t,style:l},m.a.createElement("p",{style:{marginBottom:"5px",fontSize:"16p",fontWeight:700,lineHeight:"20px",color:"243C4B"}},e.title,", ",u()(e.endTime).diff(u()(e.startTime),"hour",!0)," hours"),m.a.createElement("div",{className:"d-flex",style:{marginBottom:"10px"}},m.a.createElement("span",{style:Object(n.a)(Object(n.a)({},p),{},{marginRight:"2em"})},r.E," ",u()(e.date.startDate).format("DD MMM YYYY")),m.a.createElement("span",{style:p},r.G," ",u()(e.startTime.startDate).format("hh:mmAZ[Z]"))),m.a.createElement("p",null,e.description))})))},f=m.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M9.02953 6.96966C8.48346 6.42382 7.74297 6.11719 6.97087 6.11719C6.19877 6.11719 5.45827 6.42382 4.9122 6.96966L2.85287 9.02833C2.30678 9.57441 2 10.3151 2 11.0873C2 11.8596 2.30678 12.6003 2.85287 13.1463C3.39895 13.6924 4.13959 13.9992 4.91187 13.9992C5.68414 13.9992 6.42479 13.6924 6.97087 13.1463L8.0002 12.117",stroke:"black","stroke-width":"1.33333","stroke-linecap":"round","stroke-linejoin":"round"}),m.a.createElement("path",{d:"M6.9707 9.02953C7.51677 9.57538 8.25727 9.88201 9.02937 9.88201C9.80147 9.88201 10.542 9.57538 11.088 9.02953L13.1474 6.97087C13.6935 6.42479 14.0002 5.68414 14.0002 4.91187C14.0002 4.13959 13.6935 3.39895 13.1474 2.85287C12.6013 2.30678 11.8606 2 11.0884 2C10.3161 2 9.57545 2.30678 9.02937 2.85287L8.00004 3.8822",stroke:"black","stroke-width":"1.33333","stroke-linecap":"round","stroke-linejoin":"round"}))},375:function(e,t,a){"use strict";var n=a(2),l=a(0),c=a(127),m=a(10),s=a(50),o=a(37);t.a=function(e){var t,a,i=e.event,r=l.useState(!1),d=Object(n.a)(r,2),u=d[0],v=d[1];return l.createElement("div",{className:"event__info mc-border mt-lg-0"},l.createElement("h6",{className:"heading-6 ad__title"},"Event Details"),l.createElement("div",{className:"event-detail-data"},l.createElement("div",{className:"d-flex mb-3"},l.createElement("div",{className:"left"},l.createElement("span",{className:"event-head-text"},"Date")),l.createElement("div",{className:"right"},l.createElement("span",{className:"event-param-text"},Object(s.a)((null===i||void 0===i?void 0:i.date.startDate.toLocaleString())||"","DD MMM YYYY")))),l.createElement("div",{className:"d-flex mb-3"},l.createElement("div",{className:"left"},l.createElement("span",{className:"event-head-text"},"Time")),l.createElement("div",{className:"right"},l.createElement("span",{className:"event-param-text"},Object(s.a)((null===i||void 0===i||null===(t=i.time)||void 0===t?void 0:t.startTime.toLocaleString())||"")," to"," ",Object(s.a)((null===i||void 0===i||null===(a=i.time)||void 0===a?void 0:a.endTime)||"")))),l.createElement("div",{className:"d-flex mb-3"},l.createElement("div",{className:"left"},l.createElement("span",{className:"event-head-text"},"Address")),l.createElement("div",{className:"right"},l.createElement("span",{className:"event-param-text"},(null===i||void 0===i?void 0:i.address)||""))),l.createElement("div",{className:"d-flex mb-3"},l.createElement("div",{className:"left"},l.createElement("span",{className:"event-head-text"},"City")),l.createElement("div",{className:"right"},l.createElement("span",{className:"event-param-text"},null===i||void 0===i?void 0:i.city))),l.createElement("div",{className:"d-flex mb-3"},l.createElement("div",{className:"left"},l.createElement("span",{className:"event-head-text"},"Country")),l.createElement("div",{className:"right"},l.createElement("span",{className:"event-param-text"},null===i||void 0===i?void 0:i.country))),l.createElement("div",{className:"d-flex mb-3"},l.createElement("div",{className:"left"},l.createElement("span",{className:"event-head-text"},"Host")),l.createElement("div",{className:"right"},l.createElement("span",{className:"event-param-text"},null===i||void 0===i?void 0:i.hostedBy))),l.createElement("div",{className:"d-flex mb-3"},l.createElement("div",{className:"left"},l.createElement("span",{className:"event-head-text"},"Co-Host")),l.createElement("div",{className:"right"},l.createElement("span",{className:"event-param-text"},null===i||void 0===i?void 0:i.coHostedBy)))),l.createElement("div",{className:"form-group mb-0"},l.createElement("button",{className:"btn btn-view",onClick:function(){o.a.save(i._id).then((function(){v(!u)}))}},u?"Unsave":"Save"," Event"),l.createElement("div",{className:"w-100 mt-2 align-items-center d-flex justify-content-between"},l.createElement(c.a,{type:"event",item:i}),l.createElement("div",{className:"report--icon"},m.v,l.createElement("div",{className:"text"},"Report")))))}},376:function(e,t,a){"use strict";var n=a(2),l=a(0),c=a.n(l),m=a(63),s=a(45);t.a=function(e){var t=e.onChange,a=e.postId,o=e.data,i=e.submitUrl,r=e.isCommentAllowed,d=void 0===r||r,u=e.afterComment,v=Object(l.useState)(o),p=Object(n.a)(v,2),E=p[0],f=p[1];Object(l.useEffect)((function(){f(o)}),[o]);return d?c.a.createElement("div",{className:"mc-border p-2 mt-4"},c.a.createElement("div",{className:"cp-form p-0"},c.a.createElement("div",{className:"form-group mb-0"},c.a.createElement(m.a,{validate:!0,className:"d-flex align-items-center comment__form",submitUrl:i,data:{body:o,postId:a},buttonText:"Comment",formId:"comment",afterSubmit:function(e){console.log("comment success",e),u&&u(e.body)},submitBtnWrapperClass:"",props:{submitButtonClass:"btn btn-signup comment__btn"}},c.a.createElement(s.a,{className:"form-control form-input2",inputWrapperClass:"form-group comment__input",onChange:t,name:"body",props:{rows:"2",placeholder:"Write your comment..",value:E}}))))):null}},392:function(e,t,a){"use strict";var n=a(21),l=a(2),c=a(0),m=a.n(c),s=a(22),o=a(5),i=a(349),r=a(350),d=a(11),u=a(68),v=a(4),p=a(12),E=a(115),f=a(6),b=function(e){var t,a,n,l,m=e.comment;return c.createElement("div",{className:"post-header d-flex justify-content-between"},c.createElement("div",{className:"post-head-detail d-flex"},c.createElement(v.b,{to:"".concat(m.userId?"/profile/".concat(null===m||void 0===m||null===(t=m.userId)||void 0===t?void 0:t._id):null)},c.createElement("div",{className:"post-detail pl-0 d-flex"},c.createElement("div",{className:"profile-image"},c.createElement("img",{src:m.userId?Object(p.a)(null===(a=m.userId)||void 0===a?void 0:a.userImage):f.t,alt:(null===(n=m.userId)||void 0===n?void 0:n.userName)||"User Removed"})),c.createElement("div",{className:"post-in"},"Reply by :"),c.createElement("div",{className:"post-in  ml-1"}," ",m.userId?null===(l=m.userId)||void 0===l?void 0:l.userName:"User Removed")))),c.createElement("div",{className:"post-time "},c.createElement("div",{className:"post-in"},Object(E.a)(m.createdAt))))},g=a(116),N=a(13),h=a(14),y=a(19),C=function e(t){var a,m=t.comment,v=t.totalReplies,p=void 0===v?0:v,E=t.isCommentAllowed,f=void 0===E||E,C=t.deleteReply,x=t.isMod,j=t.postID,O=(Object(d.i)().id,c.useState(p)),_=Object(l.a)(O,2),w=_[0],k=_[1],B=c.useState(!0),S=Object(l.a)(B,2),M=S[0],I=S[1],R=c.useState(1),D=Object(l.a)(R,2),H=D[0],L=D[1],T=c.useState(!!m.isLiked),Y=Object(l.a)(T,2),A=Y[0],F=Y[1],W=c.useState(m.upVoteCount),G=Object(l.a)(W,2),U=G[0],V=G[1],z=c.useState(m.children||[]),P=Object(l.a)(z,2),Z=P[0],J=P[1],q=c.useState({body:"",commentId:m._id,postId:j}),X=Object(l.a)(q,2),K=X[0],Q=X[1],$=c.useState(!1),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=function(e){g.a.delete(e,x).then((function(){var t=Z.filter((function(t){return t._id!==e}));J(t),k(w-1)}))};c.useEffect((function(){g.a.getCommentReplies(m._id,{},H).then((function(e){J([].concat(Object(n.a)(Z),Object(n.a)(e.data.data||[]))),I(!0)}))}),[H]);return c.createElement("div",{className:"post-container comment__item"},c.createElement("div",{className:"main-data pt-4"},c.createElement("div",{className:"post-wrap"},c.createElement("div",{className:"post-body"},c.createElement("div",{className:"ps-left"},c.createElement("div",{className:"left-wrapper"},c.createElement(b,{comment:m}),c.createElement("p",{className:"general-text"},m.body),c.createElement("div",{className:"post-footer"},c.createElement("div",{className:"lefts"},c.createElement("div",{className:"post-reply pointer",onClick:function(){g.a.helpful(m._id,A).then((function(){V(A?U-1:U+1),F(!A)}))}},c.createElement("span",null,U),c.createElement("svg",{width:20,height:20,viewBox:"0 0 40 58",className:""},c.createElement("path",{d:"M23.75 0C23.75 0 25.6 7.20581 25.6 13.052C25.6 18.6535 22.225 23.1946 17.075 23.1946C11.9 23.1946 8 18.6535 8 13.052L8.075 12.0731C3.025 18.5992 0 27.0558 0 36.2466C0 48.2654 8.95 58 20 58C31.05 58 40 48.2654 40 36.2466C40 21.5902 33.525 8.51102 23.75 0ZM19.275 49.8425C14.825 49.8425 11.225 46.0356 11.225 41.3043C11.225 36.8992 13.85 33.7993 18.25 32.8204C22.675 31.8415 27.25 29.5302 29.8 25.805C30.775 29.3127 31.275 33.0108 31.275 36.7904C31.275 43.9963 25.9 49.8425 19.275 49.8425Z",fill:"#243C4B",fillOpacity:A?1:.6})),c.createElement("span",{className:"text"},"Helpful",A?"":"?")),c.createElement("div",{className:"post-reply",onClick:function(){return ae(!te)}},c.createElement("span",{className:"icon"},c.createElement("svg",{className:"comment--icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M20.8 1H3.2C1.99 1 1 1.99 1 3.2V23L5.4 18.6H20.8C22.01 18.6 23 17.61 23 16.4V3.2C23 1.99 22.01 1 20.8 1ZM20.8 16.4H5.4L3.2 18.6V3.2H20.8V16.4Z",fill:"#243C4B",stroke:"#243C4B",strokeWidth:"0.5"}))),c.createElement("span",{className:"text"},w?c.createElement("span",{className:"badge badge-lg badge-info"},w):"Reply")),0!==w?c.createElement("span",{className:"replyCount",id:m._id,onClick:function(){return I(!M)}},M?"Hide Replies":"+".concat(w," Replies")):null),c.createElement("div",{className:"rights"},c.createElement(u.a,{type:"comment",id:m._id}),(null===m||void 0===m||null===(a=m.userId)||void 0===a?void 0:a._id)===y.b||x?c.createElement("div",{className:"post-hide pointer",onClick:function(){return C(m._id)}},c.createElement(N.a,{icon:h.t,className:"icon"}),c.createElement("span",{className:"text"},"Delete")):null))))))),te&&f?c.createElement("div",{className:"pl-3"},c.createElement("div",{className:"mc-border p-2 mt-3"},c.createElement(i.a,{className:"align-items-center"},c.createElement(r.a,{className:"flex-1"},c.createElement("input",{name:"body",id:"body",className:"form-control form-input2",type:"text",placeholder:"Comment Reply",onChange:function(e){Q(Object(o.a)(Object(o.a)({},K),{},Object(s.a)({},e.target.name,e.target.value)))},value:K.body})),c.createElement("div",{style:{width:"130px"}},c.createElement("button",{type:"button",className:"btn btn-md btn-signup",onClick:function(){g.a.addComment(K).then((function(e){J([].concat(Object(n.a)(Z),[e.data.body])),k(w+1),ae(!1)}))}},"Reply"))))):null,M&&c.createElement(c.Fragment,null,Z.map((function(t){return c.createElement(e,{isMod:x,deleteReply:ne,isCommentAllowed:f,comment:t,totalReplies:t.repliesCount,key:t._id,postID:j})})),w>Z.length?c.createElement("div",{className:"text-center"},c.createElement("button",{onClick:function(){L((function(e){return e+1}))},className:"text-muted btn font-weight-bold show__more-btn"},"Load More")):null))},x=a(393);t.a=function(e){var t=e.comments,a=e.isCommentAllowed,s=e.fetchComments,o=e.hasMoreComments,i=void 0===o||o,r=e.isMod,d=void 0!==r&&r,u=Object(c.useState)(Object(n.a)(t)),v=Object(l.a)(u,2),p=v[0],E=v[1];Object(c.useEffect)((function(){console.log("checking comments ",t),E(t)}),[t]);var f=function(e){g.a.delete(e,d).then((function(){var t=p.filter((function(t){return t._id!==e}));E(t)}))};return m.a.createElement(m.a.Fragment,null,p.map((function(e){return m.a.createElement(x.Fade,{enter:!0,down:!0,delay:300},m.a.createElement(C,{isMod:d,deleteReply:f,isCommentAllowed:a,key:e._id,comment:e,totalReplies:e.repliesCount,postID:e.postId}))})),i?m.a.createElement("div",{className:"text-center"},m.a.createElement("button",{onClick:s,className:"text-muted btn font-weight-bold show__more-btn"},"Load More")):null)}},515:function(e,t,a){"use strict";a.r(t);var n=a(21),l=a(22),c=a(5),m=a(2),s=a(0),o=a.n(s),i=a(48),r=a(374),d=a(375),u=a(11),v=a(37),p=a(376),E=a(392);t.default=function(){Object(u.h)().state;var e=Object(u.i)().id,t=Object(s.useState)(1),a=Object(m.a)(t,2),f=a[0],b=a[1],g=Object(s.useState)(),N=Object(m.a)(g,2),h=N[0],y=N[1],C=Object(s.useState)({eventId:e,body:""}),x=Object(m.a)(C,2),j=x[0],O=x[1],_=Object(s.useState)({comments:[],totalVotes:0,totalReplies:0}),w=Object(m.a)(_,2),k=w[0],B=w[1];Object(s.useEffect)((function(){}),[]);Object(s.useEffect)((function(){v.a.fetchById(e).then((function(e){y(Object(c.a)({},e.data.data))}))}),[e]);var S=function(){return b(f+1)};return Object(s.useEffect)((function(){v.a.fetchComments(e||"",f).then((function(e){if(e){var t=e.data.body;B((function(e){return Object(c.a)(Object(c.a)({},e),{},{comments:[].concat(Object(n.a)(e.comments),Object(n.a)(t.docs))})})),O((function(e){return Object(c.a)(Object(c.a)({},e),{},{body:""})}))}}))}),[f,e]),Object(s.useEffect)((function(){return document.addEventListener("comment-success",S),function(){return document.removeEventListener("comment-success",S)}}),[]),o.a.createElement(i.a,{asideRightContent:o.a.createElement(o.a.Fragment,null,h&&o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{event:h})))},h&&o.a.createElement(r.a,{onGoingChange:function(e){alert("changed"),y(Object(c.a)(Object(c.a)({},h),{},{going:e}))},event:h}),o.a.createElement(p.a,{isCommentAllowed:!!(null===h||void 0===h?void 0:h.isJoined),onChange:function(e){var t=e.target,a=t.name,n=t.value;O(Object(c.a)(Object(c.a)({},j),{},Object(l.a)({},a,n)))},postId:j.eventId,data:j.body,submitUrl:"comment/to/event"}),o.a.createElement(E.a,{isMod:!!(null===h||void 0===h?void 0:h.isComMod),hasMoreComments:k.totalReplies>k.comments.length,fetchComments:S,isCommentAllowed:!!(null===h||void 0===h?void 0:h.isJoined),comments:k.comments}))}}}]);
//# sourceMappingURL=14.c2689297.chunk.js.map